!function(){"use strict";function a(a){var b=new XMLHttpRequest;b.overrideMimeType("application/json"),b.open("GET","http://127.0.0.1:8080/js/quiz-questions.json",!0),b.onreadystatechange=function(){4===b.readyState&&200===b.status&&a(b.responseText)},b.send(null)}function b(a){this.questions=a,this.numQs=this.questions.length,this.scores=[]}function c(){function a(){setTimeout(function(){var a=document.getElementsByClassName("warning")[0];a.parentNode.removeChild(a)},3e3)}function c(){var a=i.numQs-1;p.style.display=k?"block":"none",l.style.display=k?"none":"block",m.style.display=k?"none":"inline-block",j>a||!k?(o.style.display="none",n.style.display="none"):(n.style.display="inline-block",o.style.display=j>0?"inline-block":"none")}function e(){k=!0,i=new b(d),i.qandas(j),c()}function f(){i.empty(),i={},j=0,k=!1,c()}function g(){var b,d=-1,e=document.getElementsByClassName("options")[0],f=e.getElementsByTagName("input");for(b=0;b<f.length;b+=1)"radio"===f[b].type&&f[b].checked&&(d=f[b].value);if(d!==-1)j+=1,i.next(j,d),c();else{var g=document.createElement("div");g.setAttribute("class","warning"),document.getElementById("notifications").appendChild(g),document.getElementsByClassName("warning")[0].innerHTML='<h3 class="bg-warning text-warning">Pick something idiot.</h3>',a()}}function h(){j-=1,i.back(j),c()}var i={},j=0,k=!1,l=document.getElementsByClassName("start-heading")[0],m=document.getElementById("quiz_start"),n=document.getElementById("quiz_submit"),o=document.getElementById("quiz_back"),p=document.getElementById("quiz_restart");c(),m.addEventListener("click",e),n.addEventListener("click",g),o.addEventListener("click",h),p.addEventListener("click",f)}var d=[];a(function(a){d=JSON.parse(a)}),b.prototype={activeQh:function(a){return a+1},qandas:function(a){var b="",c=this.scores[a]?this.scores[a].user_ans:"no scores",d=document.createElement("div");d.setAttribute("class","question"),document.getElementsByClassName("quiz-q")[0].appendChild(d),document.getElementsByClassName("question")[0].innerHTML="<h3>[ Q: "+this.activeQh(a)+" of "+this.numQs+" ] "+this.questions[a].question+"</h3>";var e=document.createElement("div");e.setAttribute("class","options"),document.getElementsByClassName("quiz-c")[0].appendChild(e),this.questions[a].choices.forEach(function(d){b+=c&&d===c?'<li><div class="checkbox"><label><input type="radio" name="q-'+a+'" value="'+c+'" checked=checked /> '+c+"</label></div></li>":'<li><div class="checkbox"><label><input type="radio" name="q-'+a+'" value="'+d+'" /> '+d+"</label></div></li>"}),document.getElementsByClassName("options")[0].innerHTML="<ol>"+b+"</ol>"},back_to_qandas:function(a,b){var c="",d=document.createElement("div");d.setAttribute("class","question"),document.getElementsByClassName("quiz-q")[0].appendChild(d),document.getElementsByClassName("question")[0].innerHTML="<h3>[ Q: "+this.activeQh(a)+" of "+this.numQs+" ] "+this.questions[a].question+"</h3>";var e=document.createElement("div");e.setAttribute("class","options"),document.getElementsByClassName("quiz-c")[0].appendChild(e),this.questions[a].choices.forEach(function(d){c+=d===b?'<li><div class="checkbox"><label><input type="radio" name="q-'+a+'" value="'+b+'" checked=checked /> '+b+"</label></div></li>":'<li><div class="checkbox"><label><input type="radio" name="q-'+a+'" value="'+d+'" /> '+d+"</label></div></li>"}),document.getElementsByClassName("options")[0].innerHTML="<ol>"+c+"</ol>"},answer:function(a){return this.questions[a].choices[this.questions[a].correctAnswer]},empty:function(){if(document.getElementsByClassName("tally").length){var a=document.getElementsByClassName("tally")[0];a.parentNode.removeChild(a);var b=document.getElementsByClassName("score"),c=Array.prototype.filter.call(b,function(a){return"DIV"===a.nodeName});c.forEach(function(a){a.parentNode.removeChild(a)})}if(document.getElementsByClassName("question").length){var d=document.getElementsByClassName("question")[0];d.parentNode.removeChild(d);var e=document.getElementsByClassName("options")[0];e.parentNode.removeChild(e)}},compare:function(a,b){var c=a+1,d=b===this.answer(a)?"[CORRECT]":"[INCORRECT]",e={q_num:a,user_ans:b,correct_ans:this.answer(a),right_wrong:d};this.scores.length>=c?this.scores.splice(a,1,e):this.scores.push(e)},next:function(a,b){var c=a-1;this.compare(c,b),a!==this.numQs?(this.empty(),this.qandas(a)):this.finish()},back:function(a){var b=this.scores[a].user_ans;this.empty(),this.back_to_qandas(a,b)},finish:function(){var a,b;this.empty();var c=this.scores,d=[],e=0;c.forEach(function(a){e=a.correct_ans===a.user_ans?e+1:e+0,d.push({q_num:a.q_num,user_a:a.user_ans,correct_a:a.correct_ans,tally:a.right_wrong})});var f,g=e/this.numQs*100;f=g>=60?g>=75?"Good job. You probably didn't vote for Trump.":"You didn't do too bad.":g>=50?"You're not smart.":"You're stupid.";var h;b=document.createElement("div"),b.setAttribute("class","tally"),document.getElementsByClassName("quiz")[0].appendChild(b);var i="<h2>"+e+" out of "+this.numQs+" correct, Your score: "+g.toFixed(0)+"%</h2>",j="<h3>"+f+"</h3>";document.getElementsByClassName("tally")[0].innerHTML=i+j,d.forEach(function(b){a=document.createElement("div"),a.setAttribute("class","score score-"+b.q_num),document.getElementsByClassName("quiz")[0].appendChild(a),h="[CORRECT]"===b.tally?"bg-success text-success":"bg-danger text-danger border-danger",document.getElementsByClassName("score-"+b.q_num)[0].innerHTML+='<p class="'+h+'">Q#'+b.q_num+" [Correct Answer => <strong>"+b.correct_a+"</strong>][Your Answer => <strong>"+b.user_a+"</strong>]<strong>"+b.tally+"</strong></p>"})}},c()}();